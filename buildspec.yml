version: 0.2
phases:
  pre_build:
    commands:
      - docker login -u $dockerhub_username -p $dockerhub_password
      - docker run --rm -it -p 4444:4444 -p 7900:7900 --shm-size 2g selenium/standalone-chrome:dev
  build:
    commands:
      - mvn test -e -X
reports:
  Selenium:
    file-format: TestNG XML
    files:
      - target/surefire-reports/testng-results.xml
artifacts:
  files:
    - ./**/*
